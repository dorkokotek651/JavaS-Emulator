<?xml version="1.0" encoding="UTF-8"?>
<S-Program name="Predictable-Test" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="S-Emulator-v1.xsd">
	<S-Instructions>
		
		<!-- Set x1 = 5 -->
		<S-Instruction type="synthetic" name="CONSTANT_ASSIGNMENT">
			<S-Variable>x1</S-Variable>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="constantValue" value="5"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<!-- Set y = 3 -->
		<S-Instruction type="synthetic" name="CONSTANT_ASSIGNMENT">
			<S-Variable>y</S-Variable>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="constantValue" value="3"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<!-- Copy x1 to z1 (z1 = 5) -->
		<S-Instruction type="synthetic" name="ASSIGNMENT">
			<S-Variable>z1</S-Variable>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="assignedVariable" value="x1"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<!-- Add y to z1 (z1 becomes 5 + 3 = 8) -->
		<S-Instruction type="basic" name="JUMP_NOT_ZERO">
			<S-Variable>y</S-Variable>
			<S-Label>L1</S-Label>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="JNZLabel" value="L2"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<S-Instruction type="synthetic" name="GOTO_LABEL">
			<S-Variable>x2</S-Variable>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="gotoLabel" value="L3"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<S-Instruction type="basic" name="DECREASE">
			<S-Variable>y</S-Variable>
			<S-Label>L2</S-Label>
		</S-Instruction>
		
		<S-Instruction type="basic" name="INCREASE">
			<S-Variable>z1</S-Variable>
		</S-Instruction>
		
		<S-Instruction type="synthetic" name="GOTO_LABEL">
			<S-Variable>x2</S-Variable>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="gotoLabel" value="L1"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<!-- Reset y to 2 -->
		<S-Instruction type="synthetic" name="CONSTANT_ASSIGNMENT">
			<S-Variable>y</S-Variable>
			<S-Label>L3</S-Label>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="constantValue" value="2"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<!-- Subtract y from z1 (z1 becomes 8 - 1 - 1 = 6) -->
		<S-Instruction type="basic" name="JUMP_NOT_ZERO">
			<S-Variable>y</S-Variable>
			<S-Label>L4</S-Label>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="JNZLabel" value="L5"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<S-Instruction type="synthetic" name="GOTO_LABEL">
			<S-Variable>x2</S-Variable>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="gotoLabel" value="L6"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<S-Instruction type="basic" name="DECREASE">
			<S-Variable>y</S-Variable>
			<S-Label>L5</S-Label>
		</S-Instruction>
		
		<S-Instruction type="basic" name="DECREASE">
			<S-Variable>z1</S-Variable>
		</S-Instruction>
		
		<S-Instruction type="synthetic" name="GOTO_LABEL">
			<S-Variable>x2</S-Variable>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="gotoLabel" value="L4"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<!-- Check if z1 equals 6 -->
		<S-Instruction type="synthetic" name="JUMP_EQUAL_CONSTANT">
			<S-Variable>z1</S-Variable>
			<S-Label>L6</S-Label>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="JEConstantLabel" value="L7"/>
				<S-Instruction-Argument name="constantValue" value="6"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<!-- If not 6, set z2 to 999 (error) -->
		<S-Instruction type="synthetic" name="CONSTANT_ASSIGNMENT">
			<S-Variable>z2</S-Variable>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="constantValue" value="999"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<S-Instruction type="synthetic" name="GOTO_LABEL">
			<S-Variable>x2</S-Variable>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="gotoLabel" value="EXIT"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<!-- If equals 6, set z2 to 42 (success) -->
		<S-Instruction type="synthetic" name="CONSTANT_ASSIGNMENT">
			<S-Variable>z2</S-Variable>
			<S-Label>L7</S-Label>
			<S-Instruction-Arguments>
				<S-Instruction-Argument name="constantValue" value="42"/>
			</S-Instruction-Arguments>
		</S-Instruction>
		
		<!-- Final instruction -->
		<S-Instruction type="basic" name="NEUTRAL">
			<S-Variable>z2</S-Variable>
		</S-Instruction>
		
	</S-Instructions>
</S-Program>
